{"ast":null,"code":"import _regeneratorRuntime from\"D:/Web Development/davidpd2690.github.io/chatapp/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"D:/Web Development/davidpd2690.github.io/chatapp/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"D:/Web Development/davidpd2690.github.io/chatapp/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import react,{useState}from\"react\";import axios from\"axios\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var LoginForm=function LoginForm(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),username=_useState2[0],setUsername=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),error=_useState6[0],setError=_useState6[1];var handleSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(event){var authObject;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:event.preventDefault();authObject={\"Project-ID\":\"9cc84124-72b3-437c-9096-52094018f81d\",\"User-Name\":username,\"User-Secret\":password};_context.prev=2;_context.next=5;return axios.get(\"https://api.chatengine.io/chats\",{headers:authObject});case 5:localStorage.setItem(\"username\",username);localStorage.setItem(\"password\",password);window.location.reload();_context.next=13;break;case 10:_context.prev=10;_context.t0=_context[\"catch\"](2);setError(\"Incorrect credentials, try again.\");case 13:case\"end\":return _context.stop();}}},_callee,null,[[2,10]]);}));return function handleSubmit(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsx(\"div\",{className:\"wrapper\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"form\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"title\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:username,onChange:function onChange(e){return setUsername(e.target.value);},className:\"input\",placeholder:\"Username\",required:true}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",value:password,onChange:function onChange(e){return setPassword(e.target.value);},className:\"input\",placeholder:\"Password\",required:true}),/*#__PURE__*/_jsx(\"div\",{align:\"center\",children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"button\",children:/*#__PURE__*/_jsx(\"span\",{children:\"Start Chatting\"})})}),/*#__PURE__*/_jsx(\"h2\",{className:\"error\",children:error})]})]})});};export default LoginForm;","map":{"version":3,"sources":["D:/Web Development/davidpd2690.github.io/chatapp/src/components/LoginForm.jsx"],"names":["react","useState","axios","LoginForm","username","setUsername","password","setPassword","error","setError","handleSubmit","event","preventDefault","authObject","get","headers","localStorage","setItem","window","location","reload","e","target","value"],"mappings":"sYAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,C,wFAEA,GAAMC,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,EAAM,CACpB,cAAgCF,QAAQ,CAAC,EAAD,CAAxC,wCAAOG,QAAP,eAAiBC,WAAjB,eACA,eAAgCJ,QAAQ,CAAC,EAAD,CAAxC,yCAAOK,QAAP,eAAiBC,WAAjB,eACA,eAA0BN,QAAQ,CAAC,EAAD,CAAlC,yCAAOO,KAAP,eAAcC,QAAd,eAGA,GAAMC,CAAAA,YAAY,0FAAG,iBAAOC,KAAP,iIACjBA,KAAK,CAACC,cAAN,GAEMC,UAHW,CAGE,CAAC,aAAc,sCAAf,CAAuD,YAAaT,QAApE,CAA8E,cAAeE,QAA7F,CAHF,uCAMPJ,CAAAA,KAAK,CAACY,GAAN,CAAU,iCAAV,CAA6C,CAACC,OAAO,CAAEF,UAAV,CAA7C,CANO,QAQbG,YAAY,CAACC,OAAb,CAAqB,UAArB,CAAiCb,QAAjC,EACAY,YAAY,CAACC,OAAb,CAAqB,UAArB,CAAiCX,QAAjC,EAEAY,MAAM,CAACC,QAAP,CAAgBC,MAAhB,GAXa,iFAcbX,QAAQ,CAAC,mCAAD,CAAR,CAda,qEAAH,kBAAZC,CAAAA,YAAY,4CAAlB,CAmBA,mBACI,YAAK,SAAS,CAAC,SAAf,uBACI,aAAK,SAAS,CAAC,MAAf,wBACI,WAAI,SAAS,CAAC,OAAd,EADJ,cAEI,cAAM,QAAQ,CAAEA,YAAhB,wBACI,cAAO,IAAI,CAAC,MAAZ,CAAmB,KAAK,CAAEN,QAA1B,CAAoC,QAAQ,CAAE,kBAACiB,CAAD,QAAKhB,CAAAA,WAAW,CAACgB,CAAC,CAACC,MAAF,CAASC,KAAV,CAAhB,EAA9C,CAAgF,SAAS,CAAC,OAA1F,CAAkG,WAAW,CAAC,UAA9G,CAAyH,QAAQ,KAAjI,EADJ,cAEI,cAAO,IAAI,CAAC,UAAZ,CAAuB,KAAK,CAAEjB,QAA9B,CAAwC,QAAQ,CAAE,kBAACe,CAAD,QAAKd,CAAAA,WAAW,CAACc,CAAC,CAACC,MAAF,CAASC,KAAV,CAAhB,EAAlD,CAAoF,SAAS,CAAC,OAA9F,CAAsG,WAAW,CAAC,UAAlH,CAA6H,QAAQ,KAArI,EAFJ,cAGI,YAAK,KAAK,CAAC,QAAX,uBACI,eAAQ,IAAI,CAAC,QAAb,CAAsB,SAAS,CAAC,QAAhC,uBACI,wCADJ,EADJ,EAHJ,cAQI,WAAI,SAAS,CAAC,OAAd,UAAuBf,KAAvB,EARJ,GAFJ,GADJ,EADJ,CAkBH,CA3CD,CA6CA,cAAeL,CAAAA,SAAf","sourcesContent":["import react, { useState } from \"react\";\r\nimport axios from \"axios\";\r\n\r\nconst LoginForm = () => {\r\n    const [username, setUsername] = useState(\"\");\r\n    const [password, setPassword] = useState(\"\");\r\n    const [error, setError] = useState(\"\");\r\n    \r\n\r\n    const handleSubmit = async (event) => {\r\n        event.preventDefault();\r\n\r\n        const authObject = {\"Project-ID\": \"9cc84124-72b3-437c-9096-52094018f81d\", \"User-Name\": username, \"User-Secret\": password}\r\n\r\n        try {\r\n            await axios.get(\"https://api.chatengine.io/chats\", {headers: authObject});\r\n\r\n            localStorage.setItem(\"username\", username);\r\n            localStorage.setItem(\"password\", password);\r\n\r\n            window.location.reload();\r\n\r\n        } catch (error) {\r\n            setError(\"Incorrect credentials, try again.\")\r\n        }\r\n\r\n    }\r\n\r\n    return(\r\n        <div className=\"wrapper\">\r\n            <div className=\"form\">\r\n                <h1 className=\"title\"></h1>\r\n                <form onSubmit={handleSubmit}>\r\n                    <input type=\"text\" value={username} onChange={(e)=>setUsername(e.target.value)} className=\"input\" placeholder=\"Username\" required />\r\n                    <input type=\"password\" value={password} onChange={(e)=>setPassword(e.target.value)} className=\"input\" placeholder=\"Password\" required />\r\n                    <div align=\"center\">\r\n                        <button type=\"submit\" className=\"button\">\r\n                            <span>Start Chatting</span>\r\n                        </button>\r\n                    </div>\r\n                    <h2 className=\"error\">{error}</h2>\r\n                </form>\r\n            </div>\r\n        </div>\r\n    )\r\n\r\n}\r\n\r\nexport default LoginForm;"]},"metadata":{},"sourceType":"module"}